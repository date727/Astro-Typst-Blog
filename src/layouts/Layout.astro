---
import '../styles/global.css'
import '@fontsource/jetbrains-mono/300.css';
import jetbrainsMonoLightWoff2 from '@fontsource/jetbrains-mono/files/jetbrains-mono-latin-300-normal.woff2?url';
import '@fontsource/jetbrains-mono/800.css';
import jetbrainsMonoExtraBoldWoff2 from '@fontsource/jetbrains-mono/files/jetbrains-mono-latin-800-normal.woff2?url';
import '@fontsource/caveat/400.css';
import caveatWoff2 from '@fontsource/caveat/files/caveat-latin-400-normal.woff2?url';
import { ClientRouter } from "astro:transitions";
import Footer from '../components/Footer.astro';
const { title, frontmatter } = Astro.props;
---    

<!doctype html>
<html lang="zh-cn">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		
		<!-- 预加载字体 -->
		<link rel="preload" href={jetbrainsMonoLightWoff2} as="font" type="font/woff2" crossorigin="anonymous" />
		<link rel="preload" href={jetbrainsMonoExtraBoldWoff2} as="font" type="font/woff2" crossorigin="anonymous" />
		<link rel="preload" href={caveatWoff2} as="font" type="font/woff2" crossorigin="anonymous" />
		
		<ClientRouter />
		<style>
			/* View Transitions 替代样式 */
			@media (prefers-reduced-motion: no-preference) {
				@view-transition {
					navigation: auto;
				}
				
				::view-transition-old(root),
				::view-transition-new(root) {
					animation: none;
					mix-blend-mode: normal;
				}
				
				::view-transition-old(root) {
					z-index: 1;
				}
				
				::view-transition-new(root) {
					z-index: 9999;
				}
				
				/* 淡入淡出动画 */
				@keyframes fadeIn {
					from { opacity: 0; }
					to { opacity: 1; }
				}
				
				@keyframes fadeOut {
					from { opacity: 1; }
					to { opacity: 0; }
				}
				
				::view-transition-old(root) {
					animation: 0.2s ease-out both fadeOut;
				}
				
				::view-transition-new(root) {
					animation: 0.2s ease-out 0.1s both fadeIn;
				}
			}
		</style>
	</head>
	<body class="m-0 bg-[#fafaf0] font-mono font-normal">
		<nav class="px-4 py-6 max-w-3xl mx-auto border-b border-teal-600 relative z-10 flex justify-between items-center">
			<!-- 左侧博客标题 -->
			<span class="font-caveat text-3xl font-bold text-gray-800">
				Ryuhana's blog
			</span>
			
			<!-- 右侧导航链接 -->
			<div class="flex space-x-4">
				<a href="/" class="no-underline font-light text-gray-800 hover:text-teal-600 transition-colors duration-200">Home</a>
				<a href="/about/" class="no-underline font-light text-gray-800 hover:text-teal-600 transition-colors duration-200">About</a>
				<a href="/blog/" class="no-underline font-light text-gray-800 hover:text-teal-600 transition-colors duration-200">Blog</a>
				<a href="/comments" class="no-underline font-light text-gray-800 hover:text-teal-600 transition-colors duration-200">Comment</a>
			</div>
		</nav>
		
		<main class="px-8 py-8 max-w-3xl mx-auto font-mono">
			<slot name="heading" />
			<slot />
		</main>
	</body>
</html>